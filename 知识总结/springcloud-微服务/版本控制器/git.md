# GIT

- git是一个**免费的开源的分布式版本控制系统**，可以快速高效地处理从小型到大型的各种项目
- Git [易于学习，](https://git-scm.com/doc)占用[空间小，性能快如闪电](https://git-scm.com/about/small-and-fast)。它超越了SCM工具，如Subversion，CVS，Perforce和ClearCase，具有[廉价的本地分支](https://git-scm.com/about/branching-and-merging)，方便[的暂存区域](https://git-scm.com/about/staging-area)和[多个工作流程](https://git-scm.com/about/distributed)等功能。

## 集中式版本控制器

- CVS、SVN，VSS
- 集中式版本控制器，都有一个单一的集中管理的服务器，保存所有文件的修订版本，而协同工作的人们都通过客户端连到这台服务器，取出最新的文件或者提交更新。
- 好处
  - 每个人可以在一定程度上看到项目的其他人正在做些什么。而管理员也可以轻松的掌控每个人开发者的权限，并且管理一个集中化的版本控制器，要远比在各个客户端上维护本地数据库来的轻松。
  - 所有开发者修改的都是同一套代码
- 坏处
  - 缺点是如果发生单点故障，服务则不可用

## 分布式版本控制器

- GIT、Mercurial、Bazaar、Darcs.....
- 像Git这种分布式版本控制工具，客户端提取的不是最新版本的文件快照，而是把代码仓库完整地镜像下来（本地库）。**这样任何移除协同工作的文件发生故障，事后都可以用其他客户端本地仓库进行恢复。**因为每个客户端的每一次文件提取操作，实际上都是一次对整个文件仓库的完整备份。
- 服务器断网的情况下也可以进行开发（因为版本控制是在本地进行的）
- **每个客户端保存的也都是整个完整的项目**（包含历史记录、更加安全）

## git历史

![20220705085912](.\img\20220705085912.jpg)

## 工作机制和代码托管中心

- 工作区-代码的磁盘目录
- 暂存区-生成历史版本前的临时存储位置，将工作区代码git add后就能将代码推送到暂存区
- 本地库-存储代码的每个历史版本，在暂存区执行git commit后即可生成
- 远程库-代码托管中心，通过git push将本地库代码推送到远程库

### git和代码托管中心

- 代码托管中心是基于网络服务器的远程代码仓库，一般我们简称为远程库
- 局域网：gitlab
- 互联网：github、gitee码云（国内网站）

## git常用命令

[Git 基本操作 | 菜鸟教程 (runoob.com)](https://www.runoob.com/git/git-basic-operations.html)

| 命令                                 | 作用                                                         |
| ------------------------------------ | ------------------------------------------------------------ |
| git config --global user.name 用户名 | 设置用户签名                                                 |
| git log                              | 查看版本详细信息                                             |
| git config --global user.email 邮箱  | 设置用户签名                                                 |
| git init                             | 初始化本地库。要让git管理你的一个本地目录，必须先要用该命令获取目录管理权 |
| git status                           | 查看本地库状态                                               |
| git add 文件名                       | 添加到暂存区                                                 |
| git commit -m "日志信息" 文件名      | 提交到本地库                                                 |
| git reflog                           | 查看历史版本                                                 |
| git reset --hard 版本号              | 版本穿梭，切换head指针当前指向的版本                         |

- 签名的作用发是区分不同操作者身份。用户签名信息在每一个版本的提交信息中能够看到，一次确认本次提交时谁做的。git首次安装必须设置一下用户签名，否则无法提交代码。
- **这里设置用户签名和将来登录GitHub的账号没有任何关系**

## git分支

- 在项目从开发到实际用户使用涉及到多个环境，开发环境、测试环境、生产环境。不同环境下，应该进行不同的管理，将其放在不同的分支上进行管理。

- 在版本控制过程中，同时推进多个任务，每个任务我们可以创建每个任务的单独分支（比如一个项目划分为独立功能模块，每个功能模块可以由不同的程序员进行同时进行开发，可以从拓扑图上进行理解）。使用分支意味着程序员可以把自己的工作从开发主线上分离开，开发自己的分支时，不会影响主线分支的运行。

- **几乎每一种版本控制系统都以某种形式支持分支，一个分支代表一条独立的开发线。**

  **使用分支意味着你可以从开发主线上分离开来，然后在不影响主线的同时继续工作。**

- **Git 分支实际上是指向更改快照的指针。**